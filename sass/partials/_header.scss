header {
	width: 100%;
	background: $white;
	border-bottom: $grey-md 1px solid;
	padding: 30px 20px;
	position: relative;
	z-index: 10;

	&.open {
		z-index: 20;
	}

	&.bg-dropdown {
		&:after {
			content: '';
			height: 60px;
			display: block;
			width: 100%;
			position: absolute;
			top: 107px;
			background: $white;
			z-index: 4;
			width: calc(100% + 0px);
			margin: 0 -20px;
			border-bottom: $grey-md 1px solid;
		}
	}

	.logo {
		width: 205px;
		float: left;
		z-index: 10;
		position: relative;
		
		img {
			@media screen and (max-width: $break-phone) {
				margin: 0;
			}
		}
	}

	.menu {
		display: none;
		@media screen and (max-width: $break-laptop) {
			display: block;
			float: left;
			margin: 11px 40px 0 0;
		}

		@media screen and (max-width: $break-phone) {
			float: right;
			margin-right: 0;
		}

		a {
			background: url(../images/icons/menu.svg) no-repeat 0 0;
			background-size: 100% 100%;
			display: block;
			
			width: 24px;
			height: 17px;
			text-indent: -9999px;;
		}
		
	}


	.mobile-close {
		display: none;
		background: url(../images/icons/close.svg) no-repeat 0 0 ;
		background-size: 100% 100%;
		width: 21px;
		height: 21px;
		z-index: 10;
		position: relative;
		float: left;
		margin: 11px 40px 0 0;

		&.open {
			display: block;
		}

		@media screen and (max-width: $break-phone) {
			float: right;
			margin-right: 0;
		}
	}

	

	.nav-wrapper {
		float: right;
		position: relative;
		z-index: 5;
		transition: all .5s;

		nav, .utility {
			float: left;
		}

		nav {
			@media screen and (max-width: $break-laptop) {
				display: none;
			}
			ul {
				list-style: none;
				margin: 0;
				padding: 0;

				li {
					display: inline-block;
					margin: 0;
					padding: 0;

					a {
						display: block;
						padding: 10px 20px;
						color: $body-color;
						font-size: 16px;
						font-weight: $font-weight--normal;

						@media screen and (max-width: $break-tablet) {
							font-size: 24px;
							font-weight: $font-weight--bold;
						}
					}
					&.home-link {
						a {
							display: none;
						}
					}
					&:nth-child(2), &:nth-child(3) {
						a {
							font-weight: $font-weight--semi-bold;
						}
					}



					.nav-subnav {
						ul {
							display: block;
							position: absolute; 
							top: 82px;

							li {
								float:none;
								display: inline-block;
								position: relative;

								&:hover > ul {
									display:inherit;
								}

								 a {
								 	font-size: 15px;
								 	font-weight: $font-weight--normal;
								 }
							}
						}
					}


				}
			}
		}




		.utility {
			@media screen and (max-width: $break-laptop) {
				float: right;
			}

			@media screen and (max-width: $break-phone) {
				display: none;
			}

			.button {
				margin: 0;
			}
			
			ul {
				margin: 0;
				padding: 0;
				list-style: none;

				li {
					display: inline-block;
					padding: 0;
					margin: 0;

					
					a {

					}

					&.loggedin {
						//TODO: set up secure zone logic. 
						display: none;

						a.icon-loggedin {
							background: url(../images/icons/profile.svg) no-repeat 0 0;
							background-size: 100% 100%;
							text-indent: -9999px;
							display: block;
							width: 46px;
							height: 46px;
						}
					}
				}
			}
			.nav-account {
				display: none;
				overflow: hidden;
				width: 240px;
				box-shadow: 0 0 10px $grey-lt;
				padding: 20px;
				background: $white;
				position: absolute;
				right: -30px;
				margin-top: 20px;


				.profile-simple {
					.name {
						font-size: 18px;
						font-weight: $font-weight--bold;
						padding: 0 30px 0 0;
						display: inline-block;

						&.name-approved {
							background: url(../images/icons/valid.svg) right center no-repeat;
							background-size: 20px 20px;

						}
					}

					.status {
						font-size: 14px;
						margin-bottom: 10px;
					}
				}

				ul {
					list-style: none;
					margin: 0;
					padding: 0;

					li {
						margin: 0;
						padding: 0;
						display: block;

						a {
							font-size: 15px;
							padding: 5px 0 5px 30px;
							display: block;
							font-weight: $font-weight--normal;
						}

						&.icon-settings {
							a {
								background: url(../images/icons/settings.svg) no-repeat 0 center;
								background-size: 23px 23px;
							}
						}

						&.icon-logout {
							a {
								background: url(../images/icons/lock.svg) no-repeat 0 center;
								background-size: 23px 23px;
							}
						}
					}
				}

				&.open {
					display: block;

				}
			}
		}



		&.open {
			display: block;
			background: url(../images/bg/bg-blue.png) repeat 0 0;
			position: fixed;
			left: 0;
			right: 0;
			top: 0;
			bottom: 0;
			width: 100%;
			height: 100%;

			nav {
				display: block;
				width: 100%;
				@include vertical-align();

				ul {
					

					li {
						display: block;

						&:nth-child(1) {
							a {
								display: block;
								font-weight: $font-weight--normal;
								color: $grey-md;
							}
						}

						a {
							color: $white;
							text-align: center;
							font-weight: $font-weight--semi-bold;
						}


					}

					
				}
			}

			.utility {
				position: absolute;

				@media screen and (max-width: $break-tablet) {
					top: 5%;
					right: 7%;
				}

				@media screen and (max-width: $break-phone) {
					top: 90%;
					display: block;
					left: 5%;
					right: 5%;
				}

				ul {
					li {

						@media screen and (max-width: $break-phone) {
							display: block;
						}
						.button-outline {
							background: none;
							border-color: $secondary-color;
							color: $secondary-color;
							@media screen and (max-width: $break-phone) {
								display: block;
							}
						}
					}
				}
			}

		}
	}
}

.nav-subnav, .mobile-back {
	display: none;
}

.mobile-back {
	color: $grey-md;
	text-align: center;
}


.show-children {
	.nav-subnav {
		ul {
			width: 100%;

			li {
				display: block !important;

				a {
					color: $white !important;
				}
			}
		}
	}
}


